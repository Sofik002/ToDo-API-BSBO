
# ToDo –ª–∏—Å—Ç API

**API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∞–º–∏ —Å —Å–∏—Å—Ç–µ–º–æ–π –ø—Ä–∏–æ—Ä–∏—Ç–µ–∑–∞—Ü–∏–∏ –ø–æ –º–∞—Ç—Ä–∏—Ü–µ –≠–π–∑–µ–Ω—Ö–∞—É—ç—Ä–∞ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –∫–æ–Ω—Ç—Ä–æ–ª–µ–º –¥–µ–¥–ª–∞–π–Ω–æ–≤.**

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- Python 3.11+
- FastAPI ‚Äî –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è API
- Uvicorn ‚Äî —Å–µ—Ä–≤–µ—Ä –¥–ª—è –∑–∞–ø—É—Å–∫–∞
- SQLAlchemy ‚Äî ORM –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö
- PostgreSQL ‚Äî —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- Pydantic ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∏ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è
- asyncpg ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –¥—Ä–∞–π–≤–µ—Ä –¥–ª—è PostgreSQL
- JWT ‚Äî JSON Web Tokens –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- bcrypt ‚Äî —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π
- python-jose ‚Äî —Ä–∞–±–æ—Ç–∞ —Å JWT —Ç–æ–∫–µ–Ω–∞–º–∏

## –ê–≤—Ç–æ—Ä
**–°–æ—Ñ–∏—è –í–æ–ª–≤–µ–Ω–∫–æ**

## –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞
**–ü–µ—Ä–µ–¥ —Ç–µ–º –∫–∞–∫ –∑–∞–ø—É—Å–∫–∞—Ç—å –ø—Ä–æ–µ–∫—Ç —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –∑–∞–ø—É—â–µ–Ω**

```bash
#1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/–≤–∞—à-–∞–∫–∫–∞—É–Ω—Ç/ToDo-API-BSBO.git
cd ToDo-API-BSBO

#2. –°–æ–∑–¥–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python -m venv venv

#3. –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ
# Windows:
venv\Scripts\activate
# Linux/Mac:
source venv/bin/activate

#4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

#5. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
uvicorn main:app --reload
```
## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö PostgreSQL

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫ PostgreSQL

- –°–∫–∞—á–∞—Ç—å —Å [–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å–∞–π—Ç–∞](https://www.postgresql.org/download/windows/)
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å, –∑–∞–ø–æ–º–Ω–∏–≤ –ø–∞—Ä–æ–ª—å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `postgres`
- –°–ª—É–∂–±–∞ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
### –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:
```bash
# –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω
openssl rand -hex 32
# –°–æ–¥–µ—Ä–∂–∏–º–æ–µ .emv
DATABASE_URL=postgresql+asyncpg://postgres:–≤–∞—à_–ø–∞—Ä–æ–ª—å@localhost:5432/todo_db
SECRET_KEY=–≤–∞—à —Ç–æ–∫–µ–Ω
```
## –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ —Ç–∞–±–ª–∏—Ü—ã

### –ü–æ–¥–∫–ª—é—á–∏—Å—å –∫ PostgreSQL –∏ –≤—ã–ø–æ–ª–Ω–∏:

```bash
-- –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
CREATE DATABASE todo_db;

-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–æ–∑–¥–∞–Ω–Ω–æ–π –±–∞–∑–µ
\c todo_db

-- –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã tasks
CREATE TABLE IF NOT EXISTS tasks (
    id SERIAL PRIMARY KEY,
    title VARCHAR(256) NOT NULL,
    description TEXT,
    is_important BOOLEAN DEFAULT FALSE,
    is_urgent BOOLEAN DEFAULT FALSE,
    quadrant VARCHAR(2) NOT NULL,
    completed BOOLEAN DEFAULT FALSE,
    created_at TIMESTAMP DEFAULT NOW(),
    completed_at TIMESTAMP
);

-- –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
INSERT INTO tasks (title, description, is_important, is_urgent, quadrant, completed) VALUES
('–ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –æ—Ç—á–µ—Ç –ø–æ –ø—Ä–∞–∫—Ç–∏–∫–µ', '–°–æ–±—Ä–∞—Ç—å –≤—Å–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –∏ –æ—Ñ–æ—Ä–º–∏—Ç—å –æ—Ç—á–µ—Ç –ø–æ FastAPI –ø—Ä–æ–µ–∫—Ç—É', TRUE, TRUE, 'Q1', FALSE),
('–ò–∑—É—á–∏—Ç—å PostgreSQL', '–û—Å–≤–æ–∏—Ç—å —Ä–∞–±–æ—Ç—É —Å –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö PostgreSQL –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞', TRUE, FALSE, 'Q2', FALSE),
('–°—Ö–æ–¥–∏—Ç—å –Ω–∞ –≤–∞–ª–±–µ—Ä–∏—Å', '–ó–∞–±—Ä–∞—Ç—å –≤—Å–µ –ø–æ–∫—É–ø–∫–∏ –∏–∑ –¥–≤—É—Ö –ø—É–Ω–∫—Ç–æ–≤ –≤—ã–¥–∞—á–∏', FALSE, TRUE, 'Q3', FALSE),
('–ü–æ—Å–∏–¥–µ—Ç—å –≤ —Ç–∏–∫ —Ç–æ–∫–µ', '–ü–æ—Å–∫–∏–¥—ã–≤–∞—Ç—å –≤–∏–¥–æ—Å—ã –¥—Ä—É–∑—å—è–º', FALSE, FALSE, 'Q4', TRUE),
('–°–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –ø–æ FastAPI', '–ó–∞–≤–µ—Ä—à–∏—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É API –∏ –Ω–∞–ø–∏—Å–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é', TRUE, TRUE, 'Q1', FALSE),
('–ò–∑—É—á–∏—Ç—å SQLAlchemy', '–ü—Ä–æ—á–∏—Ç–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –∏ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –ø—Ä–∏–º–µ—Ä—ã', TRUE, FALSE, 'Q2', FALSE),
('–°—Ö–æ–¥–∏—Ç—å –Ω–∞ –ª–µ–∫—Ü–∏—é', NULL, FALSE, TRUE, 'Q3', FALSE),
('–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–µ—Ä–∏–∞–ª', '–ù–æ–≤—ã–π —Å–µ–∑–æ–Ω –ª—é–±–∏–º–æ–≥–æ —Å–µ—Ä–∏–∞–ª–∞', FALSE, FALSE, 'Q4', TRUE);
```
## –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–æ–ª–∏ –∞–¥–º–∏–Ω–∞
–ß—Ç–æ–±—ã —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤ –∫–æ–Ω—Å–æ–ª–∏ —Ñ–∞–π–ª make_admin.py –∏ –≤–≤–µ—Å—Ç–∏ id –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞–∑–Ω–∞—á–∏—Ç—å –∞–¥–º–∏–Ω–æ–º.
## –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ —Ä–æ–ª–∏

–°–∏—Å—Ç–µ–º–∞ –∏–º–µ–µ—Ç –¥–≤–µ —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:

- **USER** ‚Äî –æ–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å  
  - –í–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –∑–∞–¥–∞—á–∏  

- **ADMIN** ‚Äî –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä  
  - –í–∏–¥–∏—Ç –≤—Å–µ –∑–∞–¥–∞—á–∏ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π  

## üîó –î–æ—Å—Ç—É–ø –∫ API

### –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

- **–ö–æ—Ä–Ω–µ–≤–æ–π —ç–Ω–¥–ø–æ–∏–Ω—Ç:** `http://127.0.0.1:8000/`  
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Swagger UI:** `http://127.0.0.1:8000/docs`  
- **OpenAPI —Å—Ö–µ–º–∞:** `http://127.0.0.1:8000/openapi.json`  

---

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

- **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:** `POST /api/v1/auth/register`  
- **–í—Ö–æ–¥ –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ JWT:** `POST /api/v1/auth/login`  
- **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ–∫—É—â–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ:** `GET /api/v1/auth/me`  
- **–°–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è:** `PATCH /api/v1/auth/change-password`  

---

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏

- **–í—Å–µ –∑–∞–¥–∞—á–∏:** `GET /api/v1/tasks/`  
- **–°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É:** `POST /api/v1/tasks/`  
- **–ü–æ–ª—É—á–∏—Ç—å –∑–∞–¥–∞—á—É –ø–æ ID:** `GET /api/v1/tasks/{id}`  
- **–û–±–Ω–æ–≤–∏—Ç—å –∑–∞–¥–∞—á—É:** `PUT /api/v1/tasks/{id}`  
- **–£–¥–∞–ª–∏—Ç—å –∑–∞–¥–∞—á—É:** `DELETE /api/v1/tasks/{id}`  
- **–û—Ç–º–µ—Ç–∏—Ç—å –∑–∞–¥–∞—á—É –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—É—é:** `PATCH /api/v1/tasks/{id}/complete`  
- **–ü–æ–∏—Å–∫ –∑–∞–¥–∞—á:** `GET /api/v1/tasks/search?q=–æ—Ç—á–µ—Ç`  
- **–ó–∞–¥–∞—á–∏ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è:** `GET /api/v1/tasks/today`  
- **–ó–∞–¥–∞—á–∏ –ø–æ –∫–≤–∞–¥—Ä–∞–Ω—Ç–∞–º:** `GET /api/v1/tasks/quadrant/{Q1-Q4}`  
  - –ü—Ä–∏–º–µ—Ä: `GET /api/v1/tasks/quadrant/Q1`  
- **–ó–∞–¥–∞—á–∏ –ø–æ —Å—Ç–∞—Ç—É—Å—É:** `GET /api/v1/tasks/status/{status}`  

---

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

- **–û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∑–∞–¥–∞—á–∞–º:** `GET /api/v1/stats/`  
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–≤–∞–¥—Ä–∞–Ω—Ç–∞–º:** `GET /api/v1/stats`  
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –¥–µ–¥–ª–∞–π–Ω–∞–º:** `GET /api/v1/stats/deadlines`  

---

### –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ (—Ç–æ–ª—å–∫–æ –¥–ª—è ADMIN)

- **–°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∑–∞–¥–∞—á:** `GET /api/v1/admin/users`  
- **–î–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º –∑–∞–¥–∞—á–∞–º —Å–∏—Å—Ç–µ–º—ã:** `GET /api/v1/admin/tasks` 
` 

